<section class="contact" aria-labelledby="contact-title">
  <div class="contact-inner">
    <header class="head">
      <h2 id="contact-title" class="title">Let’s work together</h2>
      <p class="intro">
        Send an email right here, or reach me directly at
        <strong>
          <a [href]="'mailto:' + email" class="link">{{ email }}</a>
        </strong>
        or
        <strong>
          <a [href]="telHref" class="link">{{ phone }}</a>
        </strong>.
      </p>

      <div class="channels" role="list">
        <a role="listitem" class="chip email" [href]="'mailto:' + email" aria-label="Email me">
          <span class="chip-dot"></span>
          {{ email }}
        </a>
        <a role="listitem" class="chip phone" [href]="telHref" aria-label="Call me">
          <span class="chip-dot"></span>
          {{ phone }}
        </a>
      </div>
    </header>

    <form [formGroup]="form" (ngSubmit)="submit()" class="contact-form" novalidate>
      <div class="field-grid">
        <div class="field">
          <label for="name">Name</label>
          <input
            id="name"
            formControlName="name"
            placeholder="Your name"
            autocomplete="name"
            [attr.aria-invalid]="submitted && form.controls.name.invalid ? 'true' : null"
          />
          <div class="error" *ngIf="submitted && form.controls.name.invalid">
            Please enter your name.
          </div>
        </div>

        <div class="field">
          <label for="email">Email</label>
          <input
            id="email"
            formControlName="email"
            placeholder="you@example.com"
            autocomplete="email"
            inputmode="email"
            [attr.aria-invalid]="submitted && form.controls.email.invalid ? 'true' : null"
          />
          <div class="error" *ngIf="submitted && form.controls.email.invalid">
            Please enter a valid email address.
          </div>
        </div>
      </div>

      <div class="field">
        <label for="message">Message</label>
        <textarea
          id="message"
          formControlName="message"
          rows="6"
          placeholder="Tell me about your project, goals, and timeline…"
          [attr.aria-invalid]="submitted && form.controls.message.invalid ? 'true' : null"
        ></textarea>
        <div class="error" *ngIf="submitted && form.controls.message.invalid">
          Please enter a message.
        </div>
      </div>

      <button class="submit" type="submit" [disabled]="form.invalid || pending">
        <span class="btn-label" *ngIf="!pending">Send message</span>
        <span class="btn-label" *ngIf="pending">Sending…</span>
        <span class="spinner" *ngIf="pending" aria-hidden="true"></span>
        <span class="sr-only" *ngIf="pending">Submitting your message</span>
      </button>

      <p class="success" *ngIf="success">Thanks! I’ll get back to you soon.</p>
      <p class="error-banner" *ngIf="errorMsg">{{ errorMsg }}</p>
    </form>
  </div>
</section>